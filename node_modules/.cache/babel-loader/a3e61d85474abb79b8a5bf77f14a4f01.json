{"ast":null,"code":"var _jsxFileName = \"/home/siddiq/Dsu_website/src/routes/ejournal/tab/ Tab.js\";\nimport React from 'react'; // import {findDOMNode} from 'react-dom';\n\nimport './Tabs.css';\nconst transitionTime = 200;\nconst transitionStyle = `left ${transitionTime}ms, right ${transitionTime}ms`;\nexport class Tab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sizes: {}\n    };\n    this.els = {};\n  }\n\n  componentDidMount() {\n    this.getSizes();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.children !== this.props.children && prevProps.active !== this.props.active) {\n      this.getSizes();\n    }\n  }\n\n  getSizes() {\n    const rootBounds = this.root.getBoundingClientRect();\n    const sizes = {};\n    Object.keys(this.els).forEach(key => {\n      const el = this.els[key];\n      const bounds = el.getBoundingClientRect();\n      const left = bounds.left - rootBounds.left;\n      const right = rootBounds.right - bounds.right;\n      sizes[key] = {\n        left,\n        right\n      };\n    });\n    this.setState({\n      sizes\n    });\n    return sizes;\n  }\n\n  render() {\n    console.log(JSON.stringify(this.state, null, 2));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Tab\",\n      ref: el => this.root = el,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, React.Children.map(this.props.children, (child, i) => {\n      let className = `Tabs__Tab`;\n\n      if (child.key === this.props.active) {\n        className = `${className} Tabs__Tab--active`;\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: className,\n        onClick: () => {\n          this.props.onChange(child.key);\n        },\n        ref: el => this.els[child.key] = el,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, child);\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Tabs__Underline\",\n      style: this.getUnderlineStyle(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  getUnderlineStyle() {\n    if (this.props.active == null || Object.keys(this.state.sizes).length === 0) {\n      return {\n        left: '0',\n        right: '100%'\n      };\n    }\n\n    const size = this.state.sizes[this.props.active];\n    return {\n      left: `${size.left}px`,\n      right: `${size.right}px`,\n      transition: transitionStyle\n    };\n  }\n\n}\nexport default Tab;","map":{"version":3,"sources":["/home/siddiq/Dsu_website/src/routes/ejournal/tab/ Tab.js"],"names":["React","transitionTime","transitionStyle","Tab","Component","constructor","props","state","sizes","els","componentDidMount","getSizes","componentDidUpdate","prevProps","children","active","rootBounds","root","getBoundingClientRect","Object","keys","forEach","key","el","bounds","left","right","setState","render","console","log","JSON","stringify","Children","map","child","i","className","onChange","getUnderlineStyle","length","size","transition"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,OAAO,YAAP;AAEA,MAAMC,cAAc,GAAG,GAAvB;AACA,MAAMC,eAAe,GAAI,QAAOD,cAAe,aAAYA,cAAe,IAA1E;AAEA,OAAO,MAAME,GAAN,SAAkBH,KAAK,CAACI,SAAxB,CAAkC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAGA,SAAKC,GAAL,GAAW,EAAX;AACD;;AACDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL;AACD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAIA,SAAS,CAACC,QAAV,KAAuB,KAAKR,KAAL,CAAWQ,QAAlC,IAA8CD,SAAS,CAACE,MAAV,KAAqB,KAAKT,KAAL,CAAWS,MAAlF,EAA0F;AACxF,WAAKJ,QAAL;AACD;AACF;;AAEDA,EAAAA,QAAQ,GAAG;AACT,UAAMK,UAAU,GAAG,KAAKC,IAAL,CAAUC,qBAAV,EAAnB;AAEA,UAAMV,KAAK,GAAG,EAAd;AAEAW,IAAAA,MAAM,CAACC,IAAP,CAAY,KAAKX,GAAjB,EAAsBY,OAAtB,CAA+BC,GAAD,IAAS;AACrC,YAAMC,EAAE,GAAG,KAAKd,GAAL,CAASa,GAAT,CAAX;AACA,YAAME,MAAM,GAAGD,EAAE,CAACL,qBAAH,EAAf;AAEA,YAAMO,IAAI,GAAGD,MAAM,CAACC,IAAP,GAAcT,UAAU,CAACS,IAAtC;AACA,YAAMC,KAAK,GAAGV,UAAU,CAACU,KAAX,GAAmBF,MAAM,CAACE,KAAxC;AAEAlB,MAAAA,KAAK,CAACc,GAAD,CAAL,GAAa;AAACG,QAAAA,IAAD;AAAOC,QAAAA;AAAP,OAAb;AACD,KARD;AAUA,SAAKC,QAAL,CAAc;AAACnB,MAAAA;AAAD,KAAd;AACA,WAAOA,KAAP;AACD;;AAEDoB,EAAAA,MAAM,GAAG;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAe,KAAKzB,KAApB,EAA2B,IAA3B,EAAiC,CAAjC,CAAZ;AACA,wBACE;AACE,MAAA,SAAS,EAAC,KADZ;AAEE,MAAA,GAAG,EAAEgB,EAAE,IAAI,KAAKN,IAAL,GAAYM,EAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIGvB,KAAK,CAACiC,QAAN,CAAeC,GAAf,CAAmB,KAAK5B,KAAL,CAAWQ,QAA9B,EAAwC,CAACqB,KAAD,EAAQC,CAAR,KAAc;AACrD,UAAIC,SAAS,GAAI,WAAjB;;AACA,UAAIF,KAAK,CAACb,GAAN,KAAc,KAAKhB,KAAL,CAAWS,MAA7B,EAAqC;AACnCsB,QAAAA,SAAS,GAAI,GAAEA,SAAU,oBAAzB;AACD;;AACD,0BACE;AACE,QAAA,SAAS,EAAEA,SADb;AAEE,QAAA,OAAO,EAAE,MAAM;AACb,eAAK/B,KAAL,CAAWgC,QAAX,CAAoBH,KAAK,CAACb,GAA1B;AACD,SAJH;AAKE,QAAA,GAAG,EAAEC,EAAE,IAAI,KAAKd,GAAL,CAAS0B,KAAK,CAACb,GAAf,IAAsBC,EALnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOGY,KAPH,CADF;AAWD,KAhBA,CAJH,eAqBE;AACE,MAAA,SAAS,EAAC,iBADZ;AAEE,MAAA,KAAK,EAAE,KAAKI,iBAAL,EAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,CADF;AA4BD;;AAEDA,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAKjC,KAAL,CAAWS,MAAX,IAAqB,IAArB,IAA6BI,MAAM,CAACC,IAAP,CAAY,KAAKb,KAAL,CAAWC,KAAvB,EAA8BgC,MAA9B,KAAyC,CAA1E,EAA6E;AAC3E,aAAO;AAACf,QAAAA,IAAI,EAAE,GAAP;AAAYC,QAAAA,KAAK,EAAE;AAAnB,OAAP;AACD;;AAED,UAAMe,IAAI,GAAG,KAAKlC,KAAL,CAAWC,KAAX,CAAiB,KAAKF,KAAL,CAAWS,MAA5B,CAAb;AAEA,WAAO;AACLU,MAAAA,IAAI,EAAG,GAAEgB,IAAI,CAAChB,IAAK,IADd;AAELC,MAAAA,KAAK,EAAG,GAAEe,IAAI,CAACf,KAAM,IAFhB;AAGLgB,MAAAA,UAAU,EAAExC;AAHP,KAAP;AAKD;;AAjFsC;AAoFzC,eAAeC,GAAf","sourcesContent":["import React from 'react';\n// import {findDOMNode} from 'react-dom';\n\nimport './Tabs.css';\n\nconst transitionTime = 200;\nconst transitionStyle = `left ${transitionTime}ms, right ${transitionTime}ms`;\n\nexport class Tab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sizes: {},\n    };\n    this.els = {};\n  }\n  componentDidMount() {\n    this.getSizes();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.children !== this.props.children && prevProps.active !== this.props.active) {\n      this.getSizes();\n    }\n  }\n\n  getSizes() {\n    const rootBounds = this.root.getBoundingClientRect();\n\n    const sizes = {};\n\n    Object.keys(this.els).forEach((key) => {\n      const el = this.els[key];\n      const bounds = el.getBoundingClientRect();\n\n      const left = bounds.left - rootBounds.left;\n      const right = rootBounds.right - bounds.right;\n\n      sizes[key] = {left, right};\n    });\n\n    this.setState({sizes});\n    return sizes;\n  }\n\n  render() {\n    console.log(JSON.stringify(this.state, null, 2));\n    return (\n      <div\n        className=\"Tab\"\n        ref={el => this.root = el}\n      >\n        {React.Children.map(this.props.children, (child, i) => {\n          let className = `Tabs__Tab`;\n          if (child.key === this.props.active) {\n            className = `${className} Tabs__Tab--active`;\n          }\n          return (\n            <div\n              className={className}\n              onClick={() => {\n                this.props.onChange(child.key);\n              }}\n              ref={el => this.els[child.key] = el}\n            >\n              {child}\n            </div>\n          );\n        })}\n        <div\n          className=\"Tabs__Underline\"\n          style={this.getUnderlineStyle()}\n        />\n      </div>\n    );\n  }\n\n  getUnderlineStyle() {\n    if (this.props.active == null || Object.keys(this.state.sizes).length === 0) {\n      return {left: '0', right: '100%'};\n    }\n\n    const size = this.state.sizes[this.props.active];\n\n    return {\n      left: `${size.left}px`,\n      right: `${size.right}px`,\n      transition: transitionStyle,\n    }\n  }\n}\n\nexport default Tab;"]},"metadata":{},"sourceType":"module"}