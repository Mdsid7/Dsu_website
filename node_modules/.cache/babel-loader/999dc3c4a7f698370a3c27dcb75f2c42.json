{"ast":null,"code":"import _classCallCheck from\"/home/siddiq/Dsu_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/siddiq/Dsu_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/siddiq/Dsu_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/siddiq/Dsu_website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';// import {findDOMNode} from 'react-dom';\nimport'./Tab.css';var transitionTime=200;var transitionStyle=\"left \".concat(transitionTime,\"ms, right \").concat(transitionTime,\"ms\");export var Tab=/*#__PURE__*/function(_React$Component){_inherits(Tab,_React$Component);var _super=_createSuper(Tab);function Tab(props){var _this;_classCallCheck(this,Tab);_this=_super.call(this,props);_this.state={sizes:{}};_this.els={};return _this;}_createClass(Tab,[{key:\"componentDidMount\",value:function componentDidMount(){this.getSizes();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.children!==this.props.children&&prevProps.active!==this.props.active){this.getSizes();}}},{key:\"getSizes\",value:function getSizes(){var _this2=this;var rootBounds=this.root.getBoundingClientRect();var sizes={};Object.keys(this.els).forEach(function(key){var el=_this2.els[key];var bounds=el.getBoundingClientRect();var left=bounds.left-rootBounds.left;var right=rootBounds.right-bounds.right;sizes[key]={left:left,right:right};});this.setState({sizes:sizes});return sizes;}},{key:\"render\",value:function render(){var _this3=this;console.log(JSON.stringify(this.state,null,2));return/*#__PURE__*/React.createElement(\"div\",{className:\"Tab\",ref:function ref(el){return _this3.root=el;}},React.Children.map(this.props.children,function(child,i){var className=\"Tabs__Tab\";if(child.key===_this3.props.active){className=\"\".concat(className,\" Tabs__Tab--active\");}return/*#__PURE__*/React.createElement(\"div\",{className:className,onClick:function onClick(){_this3.props.onChange(child.key);},ref:function ref(el){return _this3.els[child.key]=el;}},child);}),/*#__PURE__*/React.createElement(\"div\",{className:\"Tabs__Underline\",style:this.getUnderlineStyle()}));}},{key:\"getUnderlineStyle\",value:function getUnderlineStyle(){if(this.props.active==null||Object.keys(this.state.sizes).length===0){return{left:'0',right:'100%'};}var size=this.state.sizes[this.props.active];return{left:\"\".concat(size.left,\"px\"),right:\"\".concat(size.right,\"px\"),transition:transitionStyle};}}]);return Tab;}(React.Component);export default Tab;","map":{"version":3,"sources":["/home/siddiq/Dsu_website/src/routes/ejournal/tab/ Tab.js"],"names":["React","transitionTime","transitionStyle","Tab","props","state","sizes","els","getSizes","prevProps","children","active","rootBounds","root","getBoundingClientRect","Object","keys","forEach","key","el","bounds","left","right","setState","console","log","JSON","stringify","Children","map","child","i","className","onChange","getUnderlineStyle","length","size","transition","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n// import {findDOMNode} from 'react-dom';\n\nimport './Tab.css';\n\nconst transitionTime = 200;\nconst transitionStyle = `left ${transitionTime}ms, right ${transitionTime}ms`;\n\nexport class Tab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sizes: {},\n    };\n    this.els = {};\n  }\n  componentDidMount() {\n    this.getSizes();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.children !== this.props.children && prevProps.active !== this.props.active) {\n      this.getSizes();\n    }\n  }\n\n  getSizes() {\n    const rootBounds = this.root.getBoundingClientRect();\n\n    const sizes = {};\n\n    Object.keys(this.els).forEach((key) => {\n      const el = this.els[key];\n      const bounds = el.getBoundingClientRect();\n\n      const left = bounds.left - rootBounds.left;\n      const right = rootBounds.right - bounds.right;\n\n      sizes[key] = {left, right};\n    });\n\n    this.setState({sizes});\n    return sizes;\n  }\n\n  render() {\n    console.log(JSON.stringify(this.state, null, 2));\n    return (\n      <div\n        className=\"Tab\"\n        ref={el => this.root = el}\n      >\n        {React.Children.map(this.props.children, (child, i) => {\n          let className = `Tabs__Tab`;\n          if (child.key === this.props.active) {\n            className = `${className} Tabs__Tab--active`;\n          }\n          return (\n            <div\n              className={className}\n              onClick={() => {\n                this.props.onChange(child.key);\n              }}\n              ref={el => this.els[child.key] = el}\n            >\n              {child}\n            </div>\n          );\n        })}\n        <div\n          className=\"Tabs__Underline\"\n          style={this.getUnderlineStyle()}\n        />\n      </div>\n    );\n  }\n\n  getUnderlineStyle() {\n    if (this.props.active == null || Object.keys(this.state.sizes).length === 0) {\n      return {left: '0', right: '100%'};\n    }\n\n    const size = this.state.sizes[this.props.active];\n\n    return {\n      left: `${size.left}px`,\n      right: `${size.right}px`,\n      transition: transitionStyle,\n    }\n  }\n}\n\nexport default Tab;"]},"metadata":{},"sourceType":"module"}